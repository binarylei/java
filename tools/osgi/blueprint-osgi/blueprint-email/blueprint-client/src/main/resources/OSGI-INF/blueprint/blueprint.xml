<?xml version="1.0" encoding="UTF-8"?>
<blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
		   xsi:schemaLocation="http://www.osgi.org/xmlns/blueprint/v1.0.0 https://osgi.org/xmlns/blueprint/v1.0.0/blueprint.xsd">

	<!--服务的引用-->
	<reference id="emailService" interface="com.github.binarylei.email.api.EmailService"
			   filter="(vendor=163)"/>
	<bean id="client" class="com.github.binarylei.email.client.EmailClient" init-method="init">
		<property name="emailService" ref="emailService"/>
	</bean>

	<!--服务的监听-->
	<reference-list interface="com.github.binarylei.email.api.EmailService" member-type="service-object">
		<reference-listener ref="emailServiceListener" bind-method="register" unbind-method="unregister"/>
	</reference-list>
	<bean id="emailServiceListener" class="com.github.binarylei.email.client.EmailServiceListener"/>
</blueprint>
